{
  "$schema": "https://opencode.ai/config.json",  // 可选，启用验证

  "agents": {
    "github-headless": {  // 名称保持一致，便于指定
      "description": "GitHub Actions 专用：全自动非交互，适配项目规范",

      "system_prompt": "你正在GitHub Actions沙箱环境中工作\n- 你拥有对本地代码库的读写权限\n- 你拥有对GitHub仓库的只读权限\n- 修改代码后，请严格遵循.claude/commands/commit.md中的规范进行提交\n- 根目录下CLAUDE.md有助于你快速了解项目\n- 你修改代码并完成最终回复后，系统会自动使用你的代码新建Pull Request，因此你的最终回复必须包含详细的工作总结\n- 你若未执行代码修改，你的最终回复将被转发到issue或Pull Request下\n- 严禁调用question工具，由于此时用户无法与你直接交互，这会导致GitHub Actions进程卡死，你可以选择直接输出最终回复，用户将在issue或Pull Request中与你回复，但你仍需确保尽可能自主完成用户任务",

      "permissions": {
        "*": "allow",
        "question": "deny"
      }
    }
  },

  // 可选：如果想让这个 agent 成为项目默认（无需在 workflow 指定），添加下面
  // "agent": "github-headless"
}